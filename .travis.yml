sudo: false
language: go

go:
  - 1.5

branches:
  only:
    - master
    - develop

before_install:
  - go get golang.org/x/tools/cmd/cover
  
install:
  - go get github.com/smartystreets/goconvey/convey
  - go get github.com/mitchellh/mapstructure
  - go get github.com/zenazn/goji
  - go get github.com/ahmetalpbalkan/go-linq
  - go get github.com/hypebeast/gojistatic
  - go get github.com/Sirupsen/logrus
  - go get github.com/nbgo/logger
  - go get github.com/goji/context
  - go get github.com/jacobsa/oglematchers
  - go get code.google.com/p/go.net/context

script:
  - go test -coverprofile=coverage.txt -covermode=atomic

after_success:
  - bash <(curl -s https://codecov.io/bash)
